"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/v1/user/wallet";
exports.ids = ["pages/api/v1/user/wallet"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./pages/api/app/_util.ts":
/*!********************************!*\
  !*** ./pages/api/app/_util.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"apiResponse\": () => (/* binding */ apiResponse),\n/* harmony export */   \"randomString\": () => (/* binding */ randomString),\n/* harmony export */   \"exchange_rate\": () => (/* binding */ exchange_rate),\n/* harmony export */   \"exchange_currency\": () => (/* binding */ exchange_currency)\n/* harmony export */ });\nconst apiResponse = (status, message, data)=>{\n    return {\n        status,\n        message,\n        data\n    };\n};\nconst randomString = (length = 15)=>{\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for(var i = 0; i < length; i++){\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n};\nconst exchange_rate = (type = null)=>{\n    return {\n        \"USD\": 1.091858,\n        \"NGN\": 456.658899\n    };\n};\nconst exchange_currency = (type)=>{\n    if (type === \"USD\") {\n        return 1.091858;\n    }\n    if (type === \"NGN\") {\n        return 456.658899;\n    }\n}; // if (process.env.NODE_ENV === \"production\") {\n //     const response = await axios.get('http://api.exchangeratesapi.io/v1/latest?access_key=af38408a2df5b8cb355c9f8b79d2c016&symbols=USD,NGN&format=1');\n //     const data = response.data;\n //     if (data.success) {\n //         res.status(200).json({\n //             status: true,\n //             message: \"\",\n //             data: {\n //                 \"base\": \"EUR\",\n //                 \"date\": \"2022-03-04\",\n //                 \"rates\": {\n //                     \"USD\": data.rates.USD,\n //                     \"NGN\": data.rates.NGN\n //                 }\n //             }\n //         });\n //     }\n //     return;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL191dGlsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxLQUFLLENBQUNBLFdBQVcsSUFBSUMsTUFBZSxFQUFFQyxPQUFlLEVBQUVDLElBQVMsR0FBSyxDQUFDO0lBQzNFLE1BQU0sQ0FBQyxDQUFDO1FBQ05GLE1BQU07UUFDTkMsT0FBTztRQUNQQyxJQUFJO0lBQ04sQ0FBQztBQUNILENBQUM7QUFFTSxLQUFLLENBQUNDLFlBQVksSUFBSUMsTUFBYyxHQUFHLEVBQUUsR0FBYSxDQUFDO0lBQzVELEdBQUcsQ0FBQ0MsTUFBTSxHQUFHLENBQUU7SUFDZixLQUFLLENBQUNDLFVBQVUsR0FBRyxDQUFnRTtJQUNuRixLQUFLLENBQUNDLGdCQUFnQixHQUFHRCxVQUFVLENBQUNGLE1BQU07SUFDMUMsR0FBRyxDQUFFLEdBQUcsQ0FBQ0ksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHSixNQUFNLEVBQUVJLENBQUMsR0FBSSxDQUFDO1FBQ2hDSCxNQUFNLElBQUlDLFVBQVUsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLEtBQ2hETCxnQkFBZ0I7SUFDcEIsQ0FBQztJQUNELE1BQU0sQ0FBQ0YsTUFBTTtBQUNmLENBQUM7QUFFTSxLQUFLLENBQUNRLGFBQWEsSUFBSUMsSUFBSSxHQUFHLElBQUksR0FBd0MsQ0FBQztJQUNoRixNQUFNLENBQUMsQ0FBQztRQUNOLENBQUssTUFBRSxRQUFRO1FBQ2YsQ0FBSyxNQUFFLFVBQVU7SUFDbkIsQ0FBQztBQUNILENBQUM7QUFFTSxLQUFLLENBQUNDLGlCQUFpQixJQUFJRCxJQUFZLEdBQXlCLENBQUM7SUFDdEUsRUFBRSxFQUFFQSxJQUFJLEtBQUssQ0FBSyxNQUFFLENBQUM7UUFDbkIsTUFBTSxDQUFDLFFBQVE7SUFDakIsQ0FBQztJQUNELEVBQUUsRUFBRUEsSUFBSSxLQUFLLENBQUssTUFBRSxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxVQUFVO0lBQ25CLENBQUM7QUFDSCxDQUFDLENBRUUsQ0FBK0M7QUFDOUMsQ0FBeUo7QUFDekosQ0FBa0M7QUFDbEMsQ0FBMEI7QUFDMUIsQ0FBaUM7QUFDakMsQ0FBNEI7QUFDNUIsQ0FBMkI7QUFDM0IsQ0FBc0I7QUFDdEIsQ0FBaUM7QUFDakMsQ0FBd0M7QUFDeEMsQ0FBNkI7QUFDN0IsQ0FBNkM7QUFDN0MsQ0FBNEM7QUFDNUMsQ0FBb0I7QUFDcEIsQ0FBZ0I7QUFDaEIsQ0FBYztBQUNkLENBQVE7QUFDUixDQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2ltYmEtZXhjaGFuZ2UvLi9wYWdlcy9hcGkvYXBwL191dGlsLnRzPzRhMTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGFwaVJlc3BvbnNlID0gKHN0YXR1czogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXMsXG4gICAgbWVzc2FnZSxcbiAgICBkYXRhLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJhbmRvbVN0cmluZyA9IChsZW5ndGg6IG51bWJlciA9IDE1KTogc3RyaW5nID0+IHtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBjb25zdCBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgY29uc3QgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqXG4gICAgICBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBleGNoYW5nZV9yYXRlID0gKHR5cGUgPSBudWxsKTogeyBcIlVTRFwiOiBudW1iZXIsIFwiTkdOXCI6IG51bWJlcjsgfSA9PiB7XG4gIHJldHVybiB7XG4gICAgXCJVU0RcIjogMS4wOTE4NTgsXG4gICAgXCJOR05cIjogNDU2LjY1ODg5OVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGV4Y2hhbmdlX2N1cnJlbmN5ID0gKHR5cGU6IHN0cmluZyk6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlID09PSBcIlVTRFwiKSB7XG4gICAgcmV0dXJuIDEuMDkxODU4O1xuICB9XG4gIGlmICh0eXBlID09PSBcIk5HTlwiKSB7XG4gICAgcmV0dXJuIDQ1Ni42NTg4OTk7XG4gIH1cbn07XG5cbiAgIC8vIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAvLyAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9hcGkuZXhjaGFuZ2VyYXRlc2FwaS5pby92MS9sYXRlc3Q/YWNjZXNzX2tleT1hZjM4NDA4YTJkZjViOGNiMzU1YzlmOGI3OWQyYzAxNiZzeW1ib2xzPVVTRCxOR04mZm9ybWF0PTEnKTtcbiAgICAvLyAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgLy8gICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAvLyAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAvLyAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAvLyAgICAgICAgICAgICBkYXRhOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIFwiYmFzZVwiOiBcIkVVUlwiLFxuICAgIC8vICAgICAgICAgICAgICAgICBcImRhdGVcIjogXCIyMDIyLTAzLTA0XCIsXG4gICAgLy8gICAgICAgICAgICAgICAgIFwicmF0ZXNcIjoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJVU0RcIjogZGF0YS5yYXRlcy5VU0QsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBcIk5HTlwiOiBkYXRhLnJhdGVzLk5HTlxuICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuO1xuXG4iXSwibmFtZXMiOlsiYXBpUmVzcG9uc2UiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZGF0YSIsInJhbmRvbVN0cmluZyIsImxlbmd0aCIsInJlc3VsdCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiaSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImV4Y2hhbmdlX3JhdGUiLCJ0eXBlIiwiZXhjaGFuZ2VfY3VycmVuY3kiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/_util.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/controller/userController.ts":
/*!****************************************************!*\
  !*** ./pages/api/app/controller/userController.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getAuth\": () => (/* binding */ getAuth),\n/* harmony export */   \"getUser\": () => (/* binding */ getUser)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/database */ \"(api)/./pages/api/config/database.ts\");\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model */ \"(api)/./pages/api/app/model/index.ts\");\n\n\n\n(0,_config_database__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\nconst JWT_SECRET = process.env.JWT_SECRET;\nconst //get auth\ngetAuth = async (token)=>{\n    let verify = null;\n    try {\n        verify = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n    } catch (error) {\n        return false;\n    }\n    if (verify) {\n        return await _model__WEBPACK_IMPORTED_MODULE_2__.User.findOne({\n            _id: verify.id\n        }).exec();\n    } else {\n        return false;\n    }\n}, //get all user\ngetUser = async ()=>{\n    try {\n        const users = await _model__WEBPACK_IMPORTED_MODULE_2__.User.find({});\n        return users;\n    } catch (error) {\n        return error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL2NvbnRyb2xsZXIvdXNlckNvbnRyb2xsZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQ2U7QUFDZDtBQUcvQkMsNERBQVM7QUFDVCxLQUFLLENBQUNFLFVBQVUsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFVBQVU7QUFFbEMsS0FBSyxDQUNSLEVBQVU7QUFDVkcsT0FBTyxVQUFVQyxLQUFhLEdBQUssQ0FBQztJQUNoQyxHQUFHLENBQUNDLE1BQU0sR0FBRyxJQUFJO0lBQ2pCLEdBQUcsQ0FBQyxDQUFDO1FBQ0RBLE1BQU0sR0FBR1IsMERBQVUsQ0FBQ08sS0FBSyxFQUFFSixVQUFVO0lBQ3pDLENBQUMsQ0FBQyxLQUFLLEVBQUVNLEtBQUssRUFBTyxDQUFDO1FBQ2xCLE1BQU0sQ0FBQyxLQUFLO0lBQ2hCLENBQUM7SUFFRCxFQUFFLEVBQUVELE1BQU0sRUFBRSxDQUFDO1FBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQ04sZ0RBQVksQ0FBQyxDQUFDO1lBQUNTLEdBQUcsRUFBRUgsTUFBTSxDQUFDSSxFQUFFO1FBQUMsQ0FBQyxFQUFFQyxJQUFJO0lBQ3RELENBQUMsTUFBTSxDQUFDO1FBQ0osTUFBTSxDQUFDLEtBQUs7SUFDaEIsQ0FBQztBQUNMLENBQUMsRUFFRCxFQUFjO0FBQ2RDLE9BQU8sYUFBZSxDQUFDO0lBQ25CLEdBQUcsQ0FBQyxDQUFDO1FBQ0QsS0FBSyxDQUFFQyxLQUFLLEdBQUcsS0FBSyxDQUFDYiw2Q0FBUyxDQUFDLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUNhLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLEtBQUssRUFBRU4sS0FBSyxFQUFPLENBQUM7UUFDbEIsTUFBTSxDQUFDQSxLQUFLO0lBQ2hCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2ltYmEtZXhjaGFuZ2UvLi9wYWdlcy9hcGkvYXBwL2NvbnRyb2xsZXIvdXNlckNvbnRyb2xsZXIudHM/NjRiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIi4uLy4uL2NvbmZpZy9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi9tb2RlbFwiO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxuXG5kYkNvbm5lY3QoKTtcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIGFzIHN0cmluZztcblxuZXhwb3J0IGNvbnN0XG4gICAgLy9nZXQgYXV0aFxuICAgIGdldEF1dGggPSBhc3luYyAodG9rZW46IHN0cmluZykgPT4ge1xuICAgICAgICBsZXQgdmVyaWZ5ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZlcmlmeSA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIGFueTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZlcmlmeSkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogdmVyaWZ5LmlkIH0pLmV4ZWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvL2dldCBhbGwgdXNlclxuICAgIGdldFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCAgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe30pO1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJzXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxuIl0sIm5hbWVzIjpbImp3dCIsImRiQ29ubmVjdCIsIlVzZXIiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImdldEF1dGgiLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIiwiZmluZE9uZSIsIl9pZCIsImlkIiwiZXhlYyIsImdldFVzZXIiLCJ1c2VycyIsImZpbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/controller/userController.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/controller/walletController.ts":
/*!******************************************************!*\
  !*** ./pages/api/app/controller/walletController.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getWallet\": () => (/* binding */ getWallet),\n/* harmony export */   \"exchangeWallet\": () => (/* binding */ exchangeWallet)\n/* harmony export */ });\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model */ \"(api)/./pages/api/app/model/index.ts\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_util */ \"(api)/./pages/api/app/_util.ts\");\n\n\nconst getWallet = async (user)=>{\n    const wallets = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.find({\n        owner_id: user._id\n    }).exec();\n    if (wallets.length > 0) {\n        return wallets;\n    }\n    return false;\n}, exchangeWallet = async (data)=>{\n    if (!data.source_wallet || !data.target_wallet || !data.amount) {\n        return {\n            status: false,\n            message: \"all input fields are required\"\n        };\n    }\n    const wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOne({\n        owner_id: data.user._id,\n        type: data.source_wallet\n    }).exec();\n    if (!wallet) {\n        return {\n            status: false,\n            message: \"wallet not found\"\n        };\n    }\n    //check wallet balance\n    const balance = parseFloat(wallet.amount);\n    const amount = parseFloat(data.amount);\n    if (balance < amount) {\n        return {\n            status: false,\n            message: \"insufficient balance\"\n        };\n    }\n    const calculated_amount = (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_currency)(data.target_wallet);\n    //if source wallet = euro\n    if (data.source_wallet === \"EURO\") {\n        console.log(data.source_wallet);\n        if (calculated_amount) {\n            //debit source wallet \n            const debit_source_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n                owner_id: data.user._id,\n                type: data.source_wallet\n            }, {\n                amount: (balance - amount).toString()\n            }, {\n                new: true\n            });\n            //credit target wallet\n            if (debit_source_wallet) {\n                const wallet_to_be_updated = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOne({\n                    owner_id: data.user._id,\n                    type: data.target_wallet\n                }).exec();\n                if (wallet_to_be_updated) {\n                    const balance = parseFloat(wallet_to_be_updated.amount);\n                    const updated_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n                        owner_id: data.user._id,\n                        type: data.target_wallet\n                    }, {\n                        amount: (balance + calculated_amount * amount).toString()\n                    }, {\n                        new: true\n                    });\n                    //store transaction if successful\n                    if (updated_wallet) {\n                        try {\n                            const new_transaction = await _model__WEBPACK_IMPORTED_MODULE_0__.Transaction.create({\n                                receiver_id: data.user._id,\n                                amount: amount.toString(),\n                                type: -1,\n                                source_currency: data.source_wallet,\n                                target_currency: data.target_wallet,\n                                refrence: (0,_util__WEBPACK_IMPORTED_MODULE_1__.randomString)()\n                            });\n                            if (new_transaction) {\n                                return {\n                                    status: true,\n                                    message: \"currency swapped successfully\"\n                                };\n                            }\n                        } catch (error) {\n                            return {\n                                status: false,\n                                error\n                            };\n                        }\n                    }\n                }\n            }\n        }\n        return {\n            status: false,\n            message: \"transaction failed\"\n        };\n    }\n    //if source wallet = usd\n    if (data.source_wallet === \"USD\") {\n        //if target wallet = euro\n        let target_amount = data.target_wallet === \"EURO\" ? amount / (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().USD : amount / (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().USD * (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().NGN;\n        //debit source wallet\n        const debit_source_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n            owner_id: data.user._id,\n            type: \"USD\"\n        }, {\n            amount: (balance - amount).toString()\n        }, {\n            new: true\n        });\n        //credit target wallet\n        if (debit_source_wallet) {\n            const wallet_to_be_updated = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOne({\n                owner_id: data.user._id,\n                type: data.target_wallet\n            }).exec();\n            if (wallet_to_be_updated) {\n                const balance = parseFloat(wallet_to_be_updated.amount);\n                const updated_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n                    owner_id: data.user._id,\n                    type: data.target_wallet\n                }, {\n                    amount: (balance + target_amount).toString()\n                }, {\n                    new: true\n                });\n                //store transaction if successful\n                if (updated_wallet) {\n                    try {\n                        const new_transaction = await _model__WEBPACK_IMPORTED_MODULE_0__.Transaction.create({\n                            receiver_id: data.user._id,\n                            amount: amount.toString(),\n                            type: -1,\n                            source_currency: data.source_wallet,\n                            target_currency: data.target_wallet,\n                            refrence: (0,_util__WEBPACK_IMPORTED_MODULE_1__.randomString)()\n                        });\n                        if (new_transaction) {\n                            return {\n                                status: true,\n                                message: \"currency swapped successfully\"\n                            };\n                        }\n                    } catch (error) {\n                        return {\n                            status: false,\n                            error\n                        };\n                    }\n                }\n            }\n        }\n        return {\n            status: false,\n            message: \"transaction failed\"\n        };\n    }\n    //if source wallet = usd\n    if (data.source_wallet === \"NGN\") {\n        //if target wallet = euro\n        let target_amount = data.target_wallet === \"EURO\" ? amount / (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().NGN : amount / (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().NGN * (0,_util__WEBPACK_IMPORTED_MODULE_1__.exchange_rate)().USD;\n        //debit source wallet\n        const debit_source_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n            owner_id: data.user._id,\n            type: \"NGN\"\n        }, {\n            amount: (balance - amount).toString()\n        }, {\n            new: true\n        });\n        //credit target wallet\n        if (debit_source_wallet) {\n            const wallet_to_be_updated = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOne({\n                owner_id: data.user._id,\n                type: data.target_wallet\n            }).exec();\n            if (wallet_to_be_updated) {\n                const balance = parseFloat(wallet_to_be_updated.amount);\n                const updated_wallet = await _model__WEBPACK_IMPORTED_MODULE_0__.Wallet.findOneAndUpdate({\n                    owner_id: data.user._id,\n                    type: data.target_wallet\n                }, {\n                    amount: (balance + target_amount).toString()\n                }, {\n                    new: true\n                });\n                //store transaction if successful\n                if (updated_wallet) {\n                    try {\n                        const new_transaction = await _model__WEBPACK_IMPORTED_MODULE_0__.Transaction.create({\n                            receiver_id: data.user._id,\n                            amount: amount.toString(),\n                            type: -1,\n                            source_currency: data.source_wallet,\n                            target_currency: data.target_wallet,\n                            refrence: (0,_util__WEBPACK_IMPORTED_MODULE_1__.randomString)()\n                        });\n                        if (new_transaction) {\n                            return {\n                                status: true,\n                                message: \"currency swapped successfully\"\n                            };\n                        }\n                    } catch (error) {\n                        return {\n                            status: false,\n                            error\n                        };\n                    }\n                }\n            }\n        }\n        return {\n            status: false,\n            message: \"transaction failed\"\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL2NvbnRyb2xsZXIvd2FsbGV0Q29udHJvbGxlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQzhDO0FBQzJCO0FBRWxFLEtBQUssQ0FDUkssU0FBUyxVQUFVQyxJQUFTLEdBQUssQ0FBQztJQUM5QixLQUFLLENBQUNDLE9BQU8sR0FBRyxLQUFLLENBQUNOLCtDQUFXLENBQzdCLENBQUM7UUFBQ1EsUUFBUSxFQUFFSCxJQUFJLENBQUNJLEdBQUc7SUFBQyxDQUFDLEVBQ3hCQyxJQUFJO0lBQ04sRUFBRSxFQUFFSixPQUFPLENBQUNLLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNyQixNQUFNLENBQUNMLE9BQU87SUFDbEIsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLO0FBQ2hCLENBQUMsRUFFRE0sY0FBYyxVQUFVQyxJQUFxQixHQUFLLENBQUM7SUFDL0MsRUFBRSxHQUFHQSxJQUFJLENBQUNDLGFBQWEsS0FBS0QsSUFBSSxDQUFDRSxhQUFhLEtBQUtGLElBQUksQ0FBQ0csTUFBTSxFQUFFLENBQUM7UUFDN0QsTUFBTSxDQUFDLENBQUM7WUFDSkMsTUFBTSxFQUFFLEtBQUs7WUFDYkMsT0FBTyxFQUFFLENBQStCO1FBQzVDLENBQUM7SUFDTCxDQUFDO0lBRUQsS0FBSyxDQUFDQyxNQUFNLEdBQUcsS0FBSyxDQUFDbkIsa0RBQWMsQ0FBQyxDQUFDO1FBQ2pDUSxRQUFRLEVBQUVLLElBQUksQ0FBQ1IsSUFBSSxDQUFDSSxHQUFHO1FBQ3ZCWSxJQUFJLEVBQUVSLElBQUksQ0FBQ0MsYUFBYTtJQUM1QixDQUFDLEVBQUVKLElBQUk7SUFFUCxFQUFFLEdBQUdTLE1BQU0sRUFBRSxDQUFDO1FBQ1YsTUFBTSxDQUFDLENBQUM7WUFDSkYsTUFBTSxFQUFFLEtBQUs7WUFDYkMsT0FBTyxFQUFFLENBQWtCO1FBQy9CLENBQUM7SUFDTCxDQUFDO0lBRUQsRUFBc0I7SUFDdEIsS0FBSyxDQUFDSSxPQUFPLEdBQUdDLFVBQVUsQ0FB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QU0sRUFBRSxLQUFLO1lBQ2JDLE9BQU8sRUFBRSxDQUFvQjtRQUNqQyxDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1iYS1leGNoYW5nZS8uL3BhZ2VzL2FwaS9hcHAvY29udHJvbGxlci93YWxsZXRDb250cm9sbGVyLnRzPzc5NWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2FsbGV0U3dhcElucHV0IH0gZnJvbSBcInR5cGVzXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiwgV2FsbGV0IH0gZnJvbSBcIi4uL21vZGVsXCI7XG5pbXBvcnQgeyBleGNoYW5nZV9jdXJyZW5jeSwgZXhjaGFuZ2VfcmF0ZSwgcmFuZG9tU3RyaW5nIH0gZnJvbSBcIi4uL191dGlsXCI7XG5cbmV4cG9ydCBjb25zdFxuICAgIGdldFdhbGxldCA9IGFzeW5jICh1c2VyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3Qgd2FsbGV0cyA9IGF3YWl0IFdhbGxldC5maW5kKFxuICAgICAgICAgICAgeyBvd25lcl9pZDogdXNlci5faWQgfVxuICAgICAgICApLmV4ZWMoKTtcbiAgICAgICAgaWYgKHdhbGxldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhbGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBleGNoYW5nZVdhbGxldCA9IGFzeW5jIChkYXRhOiBXYWxsZXRTd2FwSW5wdXQpID0+IHtcbiAgICAgICAgaWYgKCFkYXRhLnNvdXJjZV93YWxsZXQgfHwgIWRhdGEudGFyZ2V0X3dhbGxldCB8fCAhZGF0YS5hbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImFsbCBpbnB1dCBmaWVsZHMgYXJlIHJlcXVpcmVkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3YWxsZXQgPSBhd2FpdCBXYWxsZXQuZmluZE9uZSh7XG4gICAgICAgICAgICBvd25lcl9pZDogZGF0YS51c2VyLl9pZCxcbiAgICAgICAgICAgIHR5cGU6IGRhdGEuc291cmNlX3dhbGxldFxuICAgICAgICB9KS5leGVjKCk7XG5cbiAgICAgICAgaWYgKCF3YWxsZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIndhbGxldCBub3QgZm91bmRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgd2FsbGV0IGJhbGFuY2VcbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IHBhcnNlRmxvYXQod2FsbGV0LmFtb3VudCk7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoZGF0YS5hbW91bnQpO1xuICAgICAgICBpZiAoYmFsYW5jZSA8IGFtb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaW5zdWZmaWNpZW50IGJhbGFuY2VcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRfYW1vdW50ID0gZXhjaGFuZ2VfY3VycmVuY3koZGF0YS50YXJnZXRfd2FsbGV0KTtcbiAgICAgICAgLy9pZiBzb3VyY2Ugd2FsbGV0ID0gZXVyb1xuICAgICAgICBpZiAoZGF0YS5zb3VyY2Vfd2FsbGV0ID09PSBcIkVVUk9cIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5zb3VyY2Vfd2FsbGV0KTtcblxuICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZWRfYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgLy9kZWJpdCBzb3VyY2Ugd2FsbGV0IFxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYml0X3NvdXJjZV93YWxsZXQgPSBhd2FpdCBXYWxsZXQuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IGRhdGEudXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkYXRhLnNvdXJjZV93YWxsZXRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBhbW91bnQ6IChiYWxhbmNlIC0gYW1vdW50KS50b1N0cmluZygpIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIC8vY3JlZGl0IHRhcmdldCB3YWxsZXRcbiAgICAgICAgICAgICAgICBpZiAoZGViaXRfc291cmNlX3dhbGxldCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YWxsZXRfdG9fYmVfdXBkYXRlZCA9IGF3YWl0IFdhbGxldC5maW5kT25lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyX2lkOiBkYXRhLnVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZGF0YS50YXJnZXRfd2FsbGV0XG4gICAgICAgICAgICAgICAgICAgIH0pLmV4ZWMoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAod2FsbGV0X3RvX2JlX3VwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBwYXJzZUZsb2F0KHdhbGxldF90b19iZV91cGRhdGVkLmFtb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkX3dhbGxldCA9IGF3YWl0IFdhbGxldC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IGRhdGEudXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudGFyZ2V0X3dhbGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IChiYWxhbmNlICsgKGNhbGN1bGF0ZWRfYW1vdW50ICogYW1vdW50KSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RvcmUgdHJhbnNhY3Rpb24gaWYgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRfd2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3X3RyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyX2lkOiBkYXRhLnVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2N1cnJlbmN5OiBkYXRhLnNvdXJjZV93YWxsZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfY3VycmVuY3k6IGRhdGEudGFyZ2V0X3dhbGxldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlbmNlOiByYW5kb21TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY3VycmVuY3kgc3dhcHBlZCBzdWNjZXNzZnVsbHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInRyYW5zYWN0aW9uIGZhaWxlZFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiBzb3VyY2Ugd2FsbGV0ID0gdXNkXG4gICAgICAgIGlmIChkYXRhLnNvdXJjZV93YWxsZXQgPT09IFwiVVNEXCIpIHtcbiAgICAgICAgICAgIC8vaWYgdGFyZ2V0IHdhbGxldCA9IGV1cm9cbiAgICAgICAgICAgIGxldCB0YXJnZXRfYW1vdW50ID0gZGF0YS50YXJnZXRfd2FsbGV0ID09PSBcIkVVUk9cIiA/XG4gICAgICAgICAgICAgICAgYW1vdW50IC8gZXhjaGFuZ2VfcmF0ZSgpLlVTRCA6XG4gICAgICAgICAgICAgICAgKGFtb3VudCAvIGV4Y2hhbmdlX3JhdGUoKS5VU0QpICogZXhjaGFuZ2VfcmF0ZSgpLk5HTjtcblxuICAgICAgICAgICAgLy9kZWJpdCBzb3VyY2Ugd2FsbGV0XG4gICAgICAgICAgICBjb25zdCBkZWJpdF9zb3VyY2Vfd2FsbGV0ID0gYXdhaXQgV2FsbGV0LmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogZGF0YS51c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJVU0RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBhbW91bnQ6IChiYWxhbmNlIC0gYW1vdW50KS50b1N0cmluZygpIH0sXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9jcmVkaXQgdGFyZ2V0IHdhbGxldFxuICAgICAgICAgICAgaWYgKGRlYml0X3NvdXJjZV93YWxsZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxsZXRfdG9fYmVfdXBkYXRlZCA9IGF3YWl0IFdhbGxldC5maW5kT25lKHtcbiAgICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IGRhdGEudXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudGFyZ2V0X3dhbGxldFxuICAgICAgICAgICAgICAgIH0pLmV4ZWMoKTtcblxuICAgICAgICAgICAgICAgIGlmICh3YWxsZXRfdG9fYmVfdXBkYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gcGFyc2VGbG9hdCh3YWxsZXRfdG9fYmVfdXBkYXRlZC5hbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkX3dhbGxldCA9IGF3YWl0IFdhbGxldC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyX2lkOiBkYXRhLnVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudGFyZ2V0X3dhbGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IChiYWxhbmNlICsgdGFyZ2V0X2Ftb3VudCkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgLy9zdG9yZSB0cmFuc2FjdGlvbiBpZiBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkX3dhbGxldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdfdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlcl9pZDogZGF0YS51c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9jdXJyZW5jeTogZGF0YS5zb3VyY2Vfd2FsbGV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfY3VycmVuY3k6IGRhdGEudGFyZ2V0X3dhbGxldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVuY2U6IHJhbmRvbVN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY3VycmVuY3kgc3dhcHBlZCBzdWNjZXNzZnVsbHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInRyYW5zYWN0aW9uIGZhaWxlZFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiBzb3VyY2Ugd2FsbGV0ID0gdXNkXG4gICAgICAgIGlmIChkYXRhLnNvdXJjZV93YWxsZXQgPT09IFwiTkdOXCIpIHtcbiAgICAgICAgICAgIC8vaWYgdGFyZ2V0IHdhbGxldCA9IGV1cm9cbiAgICAgICAgICAgIGxldCB0YXJnZXRfYW1vdW50ID0gZGF0YS50YXJnZXRfd2FsbGV0ID09PSBcIkVVUk9cIiA/XG4gICAgICAgICAgICAgICAgYW1vdW50IC8gZXhjaGFuZ2VfcmF0ZSgpLk5HTiA6XG4gICAgICAgICAgICAgICAgKGFtb3VudCAvIGV4Y2hhbmdlX3JhdGUoKS5OR04pICogZXhjaGFuZ2VfcmF0ZSgpLlVTRDtcblxuICAgICAgICAgICAgLy9kZWJpdCBzb3VyY2Ugd2FsbGV0XG4gICAgICAgICAgICBjb25zdCBkZWJpdF9zb3VyY2Vfd2FsbGV0ID0gYXdhaXQgV2FsbGV0LmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZDogZGF0YS51c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJOR05cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBhbW91bnQ6IChiYWxhbmNlIC0gYW1vdW50KS50b1N0cmluZygpIH0sXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9jcmVkaXQgdGFyZ2V0IHdhbGxldFxuICAgICAgICAgICAgaWYgKGRlYml0X3NvdXJjZV93YWxsZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxsZXRfdG9fYmVfdXBkYXRlZCA9IGF3YWl0IFdhbGxldC5maW5kT25lKHtcbiAgICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IGRhdGEudXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudGFyZ2V0X3dhbGxldFxuICAgICAgICAgICAgICAgIH0pLmV4ZWMoKTtcblxuICAgICAgICAgICAgICAgIGlmICh3YWxsZXRfdG9fYmVfdXBkYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gcGFyc2VGbG9hdCh3YWxsZXRfdG9fYmVfdXBkYXRlZC5hbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkX3dhbGxldCA9IGF3YWl0IFdhbGxldC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyX2lkOiBkYXRhLnVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudGFyZ2V0X3dhbGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IChiYWxhbmNlICsgdGFyZ2V0X2Ftb3VudCkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgLy9zdG9yZSB0cmFuc2FjdGlvbiBpZiBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkX3dhbGxldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdfdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlcl9pZDogZGF0YS51c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9jdXJyZW5jeTogZGF0YS5zb3VyY2Vfd2FsbGV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfY3VycmVuY3k6IGRhdGEudGFyZ2V0X3dhbGxldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVuY2U6IHJhbmRvbVN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY3VycmVuY3kgc3dhcHBlZCBzdWNjZXNzZnVsbHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInRyYW5zYWN0aW9uIGZhaWxlZFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiJdLCJuYW1lcyI6WyJUcmFuc2FjdGlvbiIsIldhbGxldCIsImV4Y2hhbmdlX2N1cnJlbmN5IiwiZXhjaGFuZ2VfcmF0ZSIsInJhbmRvbVN0cmluZyIsImdldFdhbGxldCIsInVzZXIiLCJ3YWxsZXRzIiwiZmluZCIsIm93bmVyX2lkIiwiX2lkIiwiZXhlYyIsImxlbmd0aCIsImV4Y2hhbmdlV2FsbGV0IiwiZGF0YSIsInNvdXJjZV93YWxsZXQiLCJ0YXJnZXRfd2FsbGV0IiwiYW1vdW50Iiwic3RhdHVzIiwibWVzc2FnZSIsIndhbGxldCIsImZpbmRPbmUiLCJ0eXBlIiwiYmFsYW5jZSIsInBhcnNlRmxvYXQiLCJjYWxjdWxhdGVkX2Ftb3VudCIsImNvbnNvbGUiLCJsb2ciLCJkZWJpdF9zb3VyY2Vfd2FsbGV0IiwiZmluZE9uZUFuZFVwZGF0ZSIsInRvU3RyaW5nIiwibmV3Iiwid2FsbGV0X3RvX2JlX3VwZGF0ZWQiLCJ1cGRhdGVkX3dhbGxldCIsIm5ld190cmFuc2FjdGlvbiIsImNyZWF0ZSIsInJlY2VpdmVyX2lkIiwic291cmNlX2N1cnJlbmN5IiwidGFyZ2V0X2N1cnJlbmN5IiwicmVmcmVuY2UiLCJlcnJvciIsInRhcmdldF9hbW91bnQiLCJVU0QiLCJOR04iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/controller/walletController.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/model/Transaction.ts":
/*!********************************************!*\
  !*** ./pages/api/app/model/Transaction.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst TransactionSchema = new Schema({\n    sender_id: {\n        type: String,\n        default: null\n    },\n    receiver_id: {\n        type: String,\n        required: true\n    },\n    amount: {\n        type: String,\n        required: true\n    },\n    type: {\n        type: String,\n        enum: [\n            \"1\",\n            \"-1\"\n        ],\n        required: true\n    },\n    source_currency: {\n        type: String,\n        enum: [\n            'USD',\n            'EURO',\n            'NGN'\n        ],\n        required: true\n    },\n    target_currency: {\n        type: String,\n        enum: [\n            'USD',\n            'EURO',\n            'NGN'\n        ],\n        required: true\n    },\n    refrence: {\n        type: String,\n        required: true\n    },\n    exchange_rate: {\n        type: String,\n        default: null\n    },\n    description: {\n        type: String,\n        default: null\n    },\n    created_at: {\n        type: Date,\n        default: Date.now()\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now()\n    }\n});\n// Compile model from schema\nconst Transaction = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Transaction) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Transaction\", TransactionSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Transaction);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL21vZGVsL1RyYW5zYWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUcvQixLQUFLLENBQUNDLE1BQU0sR0FBR0Qsd0RBQWU7QUFFOUIsS0FBSyxDQUFDRSxpQkFBaUIsR0FBRyxHQUFHLENBQUNELE1BQU0sQ0FBQyxDQUFDO0lBQ2xDRSxTQUFTLEVBQUUsQ0FBQztRQUFDQyxJQUFJLEVBQUVDLE1BQU07UUFBRUMsT0FBTyxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQzFDQyxXQUFXLEVBQUUsQ0FBQztRQUFDSCxJQUFJLEVBQUVDLE1BQU07UUFBRUcsUUFBUSxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQzdDQyxNQUFNLEVBQUUsQ0FBQztRQUFDTCxJQUFJLEVBQUVDLE1BQU07UUFBRUcsUUFBUSxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQ3hDSixJQUFJLEVBQUUsQ0FBQztRQUFDQSxJQUFJLEVBQUVDLE1BQU07UUFBRUssSUFBSSxFQUFFLENBQUM7WUFBQSxDQUFHO1lBQUUsQ0FBSTtRQUFBLENBQUM7UUFBRUYsUUFBUSxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQ3pERyxlQUFlLEVBQUUsQ0FBQztRQUFDUCxJQUFJLEVBQUVDLE1BQU07UUFBRUssSUFBSSxFQUFFLENBQUM7WUFBQSxDQUFLO1lBQUUsQ0FBTTtZQUFFLENBQUs7UUFBQSxDQUFDO1FBQUVGLFFBQVEsRUFBRSxJQUFJO0lBQUMsQ0FBQztJQUMvRUksZUFBZSxFQUFFLENBQUM7UUFBQ1IsSUFBSSxFQUFFQyxNQUFNO1FBQUVLLElBQUksRUFBRSxDQUFDO1lBQUEsQ0FBSztZQUFFLENBQU07WUFBRSxDQUFLO1FBQUEsQ0FBQztRQUFFRixRQUFRLEVBQUUsSUFBSTtJQUFDLENBQUM7SUFDL0VLLFFBQVEsRUFBRSxDQUFDO1FBQUNULElBQUksRUFBRUMsTUFBTTtRQUFFRyxRQUFRLEVBQUUsSUFBSTtJQUFDLENBQUM7SUFDMUNNLGFBQWEsRUFBRSxDQUFDO1FBQUNWLElBQUksRUFBRUMsTUFBTTtRQUFFQyxPQUFPLEVBQUUsSUFBSTtJQUFDLENBQUM7SUFDOUNTLFdBQVcsRUFBRSxDQUFDO1FBQUNYLElBQUksRUFBRUMsTUFBTTtRQUFFQyxPQUFPLEVBQUUsSUFBSTtJQUFDLENBQUM7SUFDNUNVLFVBQVUsRUFBRSxDQUFDO1FBQUNaLElBQUksRUFBRWEsSUFBSTtRQUFFWCxPQUFPLEVBQUVXLElBQUksQ0FBQ0MsR0FBRztJQUFHLENBQUM7SUFDL0NDLFVBQVUsRUFBRSxDQUFDO1FBQUNmLElBQUksRUFBRWEsSUFBSTtRQUFFWCxPQUFPLEVBQUVXLElBQUksQ0FBQ0MsR0FBRztJQUFHLENBQUM7QUFDbkQsQ0FBQztBQUVELEVBQTRCO0FBQzVCLEtBQUssQ0FBQ0UsV0FBVyxHQUFHcEIsb0VBQTJCLElBQUlBLHFEQUFjLENBQUMsQ0FBYSxjQUFFRSxpQkFBaUI7QUFFbEcsaUVBQWVrQixXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1iYS1leGNoYW5nZS8uL3BhZ2VzL2FwaS9hcHAvbW9kZWwvVHJhbnNhY3Rpb24udHM/MDcyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyByYW5kb21TdHJpbmcgfSBmcm9tIFwiLi4vX3V0aWxcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBUcmFuc2FjdGlvblNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHNlbmRlcl9pZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICByZWNlaXZlcl9pZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYW1vdW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZW51bTogW1wiMVwiLCBcIi0xXCJdLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNvdXJjZV9jdXJyZW5jeTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsnVVNEJywgJ0VVUk8nLCAnTkdOJ10sIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdGFyZ2V0X2N1cnJlbmN5OiB7IHR5cGU6IFN0cmluZywgZW51bTogWydVU0QnLCAnRVVSTycsICdOR04nXSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICByZWZyZW5jZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZXhjaGFuZ2VfcmF0ZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICBjcmVhdGVkX2F0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCkgfSxcbiAgICB1cGRhdGVkX2F0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCkgfSxcbn0pO1xuXG4vLyBDb21waWxlIG1vZGVsIGZyb20gc2NoZW1hXG5jb25zdCBUcmFuc2FjdGlvbiA9IG1vbmdvb3NlLm1vZGVscy5UcmFuc2FjdGlvbiB8fCBtb25nb29zZS5tb2RlbChcIlRyYW5zYWN0aW9uXCIsIFRyYW5zYWN0aW9uU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNhY3Rpb247Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiVHJhbnNhY3Rpb25TY2hlbWEiLCJzZW5kZXJfaWQiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsInJlY2VpdmVyX2lkIiwicmVxdWlyZWQiLCJhbW91bnQiLCJlbnVtIiwic291cmNlX2N1cnJlbmN5IiwidGFyZ2V0X2N1cnJlbmN5IiwicmVmcmVuY2UiLCJleGNoYW5nZV9yYXRlIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsInVwZGF0ZWRfYXQiLCJUcmFuc2FjdGlvbiIsIm1vZGVscyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/model/Transaction.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/model/User.ts":
/*!*************************************!*\
  !*** ./pages/api/app/model/User.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst UserSchema = new Schema({\n    name: {\n        type: String\n    },\n    email: {\n        type: String,\n        unique: true\n    },\n    password: {\n        type: String,\n        select: false\n    },\n    created_at: {\n        type: Date,\n        default: Date.now()\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now()\n    }\n});\n// Compile model from schema\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.User) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL21vZGVsL1VzZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBRS9CLEtBQUssQ0FBQ0MsTUFBTSxHQUFHRCx3REFBZTtBQUU5QixLQUFLLENBQUNFLFVBQVUsR0FBRyxHQUFHLENBQUNELE1BQU0sQ0FBQyxDQUFDO0lBQzdCRSxJQUFJLEVBQUUsQ0FBQztRQUFDQyxJQUFJLEVBQUVDLE1BQU07SUFBQyxDQUFDO0lBQ3RCQyxLQUFLLEVBQUUsQ0FBQztRQUFDRixJQUFJLEVBQUVDLE1BQU07UUFBRUUsTUFBTSxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQ3JDQyxRQUFRLEVBQUUsQ0FBQztRQUFDSixJQUFJLEVBQUVDLE1BQU07UUFBRUksTUFBTSxFQUFFLEtBQUs7SUFBQyxDQUFDO0lBQ3pDQyxVQUFVLEVBQUUsQ0FBQztRQUFDTixJQUFJLEVBQUVPLElBQUk7UUFBRUMsT0FBTyxFQUFFRCxJQUFJLENBQUNFLEdBQUc7SUFBRyxDQUFDO0lBQy9DQyxVQUFVLEVBQUUsQ0FBQztRQUFDVixJQUFJLEVBQUVPLElBQUk7UUFBRUMsT0FBTyxFQUFFRCxJQUFJLENBQUNFLEdBQUc7SUFBRyxDQUFDO0FBQ2pELENBQUM7QUFFRCxFQUE0QjtBQUU1QixLQUFLLENBQUNFLElBQUksR0FBR2YsNkRBQW9CLElBQUlBLHFEQUFjLENBQUMsQ0FBTSxPQUFFRSxVQUFVO0FBRXRFLGlFQUFlYSxJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1iYS1leGNoYW5nZS8uL3BhZ2VzL2FwaS9hcHAvbW9kZWwvVXNlci50cz9mNGNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgc2VsZWN0OiBmYWxzZSB9LFxuICBjcmVhdGVkX2F0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCkgfSxcbiAgdXBkYXRlZF9hdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdygpIH0sXG59KTtcblxuLy8gQ29tcGlsZSBtb2RlbCBmcm9tIHNjaGVtYVxuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsIFVzZXJTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiVXNlclNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInNlbGVjdCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsInVwZGF0ZWRfYXQiLCJVc2VyIiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/model/User.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/model/Wallet.ts":
/*!***************************************!*\
  !*** ./pages/api/app/model/Wallet.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst WalletSchema = new Schema({\n    owner_id: {\n        type: String\n    },\n    amount: {\n        type: String,\n        default: \"0\"\n    },\n    type: {\n        type: String,\n        enum: [\n            'USD',\n            'EURO',\n            'NGN'\n        ]\n    },\n    created_at: {\n        type: Date,\n        default: Date.now()\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now()\n    }\n});\n// Compile model from schema\nconst Wallet = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Wallet) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Wallet\", WalletSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Wallet);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL21vZGVsL1dhbGxldC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsS0FBSyxDQUFDQyxNQUFNLEdBQUdELHdEQUFlO0FBRTlCLEtBQUssQ0FBQ0UsWUFBWSxHQUFHLEdBQUcsQ0FBQ0QsTUFBTSxDQUFDLENBQUM7SUFDN0JFLFFBQVEsRUFBRSxDQUFDO1FBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFDLENBQUM7SUFDMUJDLE1BQU0sRUFBRSxDQUFDO1FBQUNGLElBQUksRUFBRUMsTUFBTTtRQUFFRSxPQUFPLEVBQUUsQ0FBRztJQUFDLENBQUM7SUFDdENILElBQUksRUFBRSxDQUFDO1FBQUNBLElBQUksRUFBRUMsTUFBTTtRQUFFRyxJQUFJLEVBQUUsQ0FBQztZQUFBLENBQUs7WUFBRSxDQUFNO1lBQUUsQ0FBSztRQUFBLENBQUM7SUFBQyxDQUFDO0lBQ3BEQyxVQUFVLEVBQUUsQ0FBQztRQUFDTCxJQUFJLEVBQUVNLElBQUk7UUFBRUgsT0FBTyxFQUFFRyxJQUFJLENBQUNDLEdBQUc7SUFBRyxDQUFDO0lBQy9DQyxVQUFVLEVBQUUsQ0FBQztRQUFDUixJQUFJLEVBQUVNLElBQUk7UUFBRUgsT0FBTyxFQUFFRyxJQUFJLENBQUNDLEdBQUc7SUFBRyxDQUFDO0FBQ25ELENBQUM7QUFFRCxFQUE0QjtBQUM1QixLQUFLLENBQUNFLE1BQU0sR0FBR2IsK0RBQXNCLElBQUlBLHFEQUFjLENBQUMsQ0FBUSxTQUFFRSxZQUFZO0FBRTlFLGlFQUFlVyxNQUFNLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1iYS1leGNoYW5nZS8uL3BhZ2VzL2FwaS9hcHAvbW9kZWwvV2FsbGV0LnRzPzJkMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmNvbnN0IFdhbGxldFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIG93bmVyX2lkOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIGFtb3VudDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiMFwiIH0sXG4gICAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsnVVNEJywgJ0VVUk8nLCAnTkdOJ10gfSxcbiAgICBjcmVhdGVkX2F0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCkgfSxcbiAgICB1cGRhdGVkX2F0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93KCkgfSxcbn0pO1xuXG4vLyBDb21waWxlIG1vZGVsIGZyb20gc2NoZW1hXG5jb25zdCBXYWxsZXQgPSBtb25nb29zZS5tb2RlbHMuV2FsbGV0IHx8IG1vbmdvb3NlLm1vZGVsKFwiV2FsbGV0XCIsIFdhbGxldFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFdhbGxldDtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIldhbGxldFNjaGVtYSIsIm93bmVyX2lkIiwidHlwZSIsIlN0cmluZyIsImFtb3VudCIsImRlZmF1bHQiLCJlbnVtIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkX2F0IiwiV2FsbGV0IiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/model/Wallet.ts\n");

/***/ }),

/***/ "(api)/./pages/api/app/model/index.ts":
/*!**************************************!*\
  !*** ./pages/api/app/model/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"User\": () => (/* reexport safe */ _User__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"Transaction\": () => (/* reexport safe */ _Transaction__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"Wallet\": () => (/* reexport safe */ _Wallet__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./User */ \"(api)/./pages/api/app/model/User.ts\");\n/* harmony import */ var _Transaction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Transaction */ \"(api)/./pages/api/app/model/Transaction.ts\");\n/* harmony import */ var _Wallet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Wallet */ \"(api)/./pages/api/app/model/Wallet.ts\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXBwL21vZGVsL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5QjtBQUNjO0FBQ1Y7QUFFUSIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJhLWV4Y2hhbmdlLy4vcGFnZXMvYXBpL2FwcC9tb2RlbC9pbmRleC50cz9jMmQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuL1VzZXJcIjtcbmltcG9ydCBUcmFuc2FjdGlvbiBmcm9tIFwiLi9UcmFuc2FjdGlvblwiO1xuaW1wb3J0IFdhbGxldCBmcm9tIFwiLi9XYWxsZXRcIjtcblxuZXhwb3J0IHsgVXNlciwgVHJhbnNhY3Rpb24sIFdhbGxldCB9OyJdLCJuYW1lcyI6WyJVc2VyIiwiVHJhbnNhY3Rpb24iLCJXYWxsZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/app/model/index.ts\n");

/***/ }),

/***/ "(api)/./pages/api/config/database.ts":
/*!**************************************!*\
  !*** ./pages/api/config/database.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst db_user = process.env.DB_USER;\nconst db_password = process.env.DB_PASS;\nconst db_name = process.env.DB_NAME;\nif (!db_user || !db_password) {\n    throw new Error(\"database connection credentials needed\");\n}\nconst URI = `mongodb+srv://${db_user}:ScV7bH1LG4URcVSx@cluster0.virng.mongodb.net/${db_name}?retryWrites=true&w=majority`;\nconst opt = {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n};\nmongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(URI);\nconst connection = {\n    isConnected: false\n};\nasync function dbConnect() {\n    if (connection.isConnected) {\n        return;\n    }\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(URI, opt).then((db)=>{\n        connection.isConnected = db.connections[0].readyState;\n        console.log(\"DB connected\");\n    }).catch((error)=>{\n        console.log(\"DB connection failed: \", error);\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY29uZmlnL2RhdGFiYXNlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixLQUFLLENBQUNDLE9BQU8sR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE9BQU87QUFDbkMsS0FBSyxDQUFDQyxXQUFXLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxPQUFPO0FBQ3ZDLEtBQUssQ0FBQ0MsT0FBTyxHQUFHTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssT0FBTztBQUNuQyxFQUFFLEdBQUdQLE9BQU8sS0FBS0ksV0FBVyxFQUFFLENBQUM7SUFDN0IsS0FBSyxDQUFDLEdBQUcsQ0FBQ0ksS0FBSyxDQUFDLENBQXdDO0FBQzFELENBQUM7QUFFRCxLQUFLLENBQUNDLEdBQUcsSUFBSSxjQUFjLEVBQUVULE9BQU8sQ0FBQyw2Q0FBNkMsRUFBRU0sT0FBTyxDQUFDLDRCQUE0QjtBQUN4SCxLQUFLLENBQUNJLEdBQUcsR0FBRyxDQUFDO0lBQ1hDLGVBQWUsRUFBRSxJQUFJO0lBQ3JCQyxrQkFBa0IsRUFBRSxJQUFJO0FBQzFCLENBQUM7QUFFRGIsdURBQWdCLENBQUNVLEdBQUc7QUFFcEIsS0FBSyxDQUFDSyxVQUFVLEdBQUcsQ0FBQztJQUNsQkMsV0FBVyxFQUFFLEtBQUs7QUFDcEIsQ0FBQztlQUVjQyxTQUFTLEdBQUcsQ0FBQztJQUMxQixFQUFFLEVBQUVGLFVBQVUsQ0FBQ0MsV0FBVyxFQUFFLENBQUM7UUFDM0IsTUFBTTtJQUNSLENBQUM7SUFFRGhCLHVEQUFnQixDQUFDVSxHQUFHLEVBQUVDLEdBQUcsRUFBRU8sSUFBSSxFQUFFQyxFQUFFLEdBQUssQ0FBQztRQUN2Q0osVUFBVSxDQUFDQyxXQUFXLEdBQUdHLEVBQUUsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsRUFBRUMsVUFBVTtRQUNyREMsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBYztJQUM1QixDQUFDLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxHQUFLLENBQUM7UUFDbkJILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQXdCLHlCQUFFRSxLQUFLO0lBQzdDLENBQUM7QUFDSCxDQUFDO0FBRUQsaUVBQWVSLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJhLWV4Y2hhbmdlLy4vcGFnZXMvYXBpL2NvbmZpZy9kYXRhYmFzZS50cz8yNDQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgZGJfdXNlciA9IHByb2Nlc3MuZW52LkRCX1VTRVI7XG5jb25zdCBkYl9wYXNzd29yZCA9IHByb2Nlc3MuZW52LkRCX1BBU1M7XG5jb25zdCBkYl9uYW1lID0gcHJvY2Vzcy5lbnYuREJfTkFNRTtcbmlmICghZGJfdXNlciB8fCAhZGJfcGFzc3dvcmQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiZGF0YWJhc2UgY29ubmVjdGlvbiBjcmVkZW50aWFscyBuZWVkZWRcIik7XG59XG5cbmNvbnN0IFVSSSA9IGBtb25nb2RiK3NydjovLyR7ZGJfdXNlcn06U2NWN2JIMUxHNFVSY1ZTeEBjbHVzdGVyMC52aXJuZy5tb25nb2RiLm5ldC8ke2RiX25hbWV9P3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWA7XG5jb25zdCBvcHQgPSB7XG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxufSBhcyBtb25nb29zZS5Db25uZWN0T3B0aW9ucztcblxubW9uZ29vc2UuY29ubmVjdChVUkkpO1xuXG5jb25zdCBjb25uZWN0aW9uID0ge1xuICBpc0Nvbm5lY3RlZDogZmFsc2UgYXMgdW5rbm93biBhcyBtb25nb29zZS5Db25uZWN0aW9uU3RhdGVzXG59O1xuXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XG4gIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbW9uZ29vc2UuY29ubmVjdChVUkksIG9wdCkudGhlbigoZGIpID0+IHtcbiAgICBjb25uZWN0aW9uLmlzQ29ubmVjdGVkID0gZGIuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZTtcbiAgICBjb25zb2xlLmxvZyhcIkRCIGNvbm5lY3RlZFwiKTtcbiAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJEQiBjb25uZWN0aW9uIGZhaWxlZDogXCIsIGVycm9yKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJkYl91c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJkYl9wYXNzd29yZCIsIkRCX1BBU1MiLCJkYl9uYW1lIiwiREJfTkFNRSIsIkVycm9yIiwiVVJJIiwib3B0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImNvbm5lY3Rpb24iLCJpc0Nvbm5lY3RlZCIsImRiQ29ubmVjdCIsInRoZW4iLCJkYiIsImNvbm5lY3Rpb25zIiwicmVhZHlTdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/config/database.ts\n");

/***/ }),

/***/ "(api)/./pages/api/v1/user/wallet.ts":
/*!*************************************!*\
  !*** ./pages/api/v1/user/wallet.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _app_controller_userController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../app/controller/userController */ \"(api)/./pages/api/app/controller/userController.ts\");\n/* harmony import */ var _app_controller_walletController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../app/controller/walletController */ \"(api)/./pages/api/app/controller/walletController.ts\");\n/* harmony import */ var _app_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app/_util */ \"(api)/./pages/api/app/_util.ts\");\n\n\n\nasync function handler(req, res) {\n    const token = req.headers.token;\n    const user = await (0,_app_controller_userController__WEBPACK_IMPORTED_MODULE_0__.getAuth)(token);\n    const method = req.method;\n    if (!user) {\n        res.status(404).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(false, \"user not found\", []));\n        return;\n    }\n    switch(method){\n        case 'GET':\n            let wallets = await (0,_app_controller_walletController__WEBPACK_IMPORTED_MODULE_1__.getWallet)(user);\n            if (!wallets) {\n                res.status(400).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(false, \"wallet not found\", []));\n            }\n            res.status(200).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(true, \"\", wallets));\n            break;\n        case 'POST':\n            const body = {\n                ...req.body,\n                user\n            };\n            const response = await (0,_app_controller_walletController__WEBPACK_IMPORTED_MODULE_1__.exchangeWallet)(body);\n            res.status(200).json(response);\n            return;\n            if (response?.status) {\n                return res.status(200).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(true, \"transaction successful\", []));\n            }\n            return res.status(400).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(false, response?.message, response?.error));\n        default:\n            res.status(400).json((0,_app_util__WEBPACK_IMPORTED_MODULE_2__.apiResponse)(false, \"method not allowed\", []));\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdjEvdXNlci93YWxsZXQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUM2RDtBQUNvQjtBQUNwQztBQUU5QixlQUFlSSxPQUFPLENBQ2pDQyxHQUFtQixFQUNuQkMsR0FBb0IsRUFDdEIsQ0FBQztJQUNDLEtBQUssQ0FBQ0MsS0FBSyxHQUFHRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsS0FBSztJQUMvQixLQUFLLENBQUNFLElBQUksR0FBRyxLQUFLLENBQUNULHVFQUFPLENBQUNPLEtBQUs7SUFDaEMsS0FBSyxDQUFDRyxNQUFNLEdBQUdMLEdBQUcsQ0FBQ0ssTUFBTTtJQUN6QixFQUFFLEdBQUdELElBQUksRUFBRSxDQUFDO1FBQ1JILEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDVCxzREFBVyxDQUFDLEtBQUssRUFBRSxDQUFnQixpQkFBRSxDQUFDLENBQUM7UUFDNUQsTUFBTTtJQUNWLENBQUM7SUFDRCxNQUFNLENBQUVPLE1BQU07UUFDVixJQUFJLENBQUMsQ0FBSztZQUNOLEdBQUcsQ0FBQ0csT0FBTyxHQUFHLEtBQUssQ0FBQ1gsMkVBQVMsQ0FBQ08sSUFBSTtZQUNsQyxFQUFFLEdBQUdJLE9BQU8sRUFBRSxDQUFDO2dCQUNYUCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ1Qsc0RBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBa0IsbUJBQUUsQ0FBQyxDQUFDO1lBQ2xFLENBQUM7WUFDREcsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUNULHNEQUFXLENBQUMsSUFBSSxFQUFFLENBQUUsR0FBRVUsT0FBTztZQUNsRCxLQUFLO1FBQ1QsSUFBSSxDQUFDLENBQU07WUFDUCxLQUFLLENBQUNDLElBQUksR0FBRyxDQUFDO21CQUFJVCxHQUFHLENBQUNTLElBQUk7Z0JBQUVMLElBQUk7WUFBQyxDQUFDO1lBQ2xDLEtBQUssQ0FBQ00sUUFBUSxHQUFHLEtBQUssQ0FBQ2QsZ0ZBQWMsQ0FBQ2EsSUFBSTtZQUMxQ1IsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUNHLFFBQVE7WUFDN0IsTUFBTTtZQUNOLEVBQUUsRUFBRUEsUUFBUSxFQUFFSixNQUFNLEVBQUUsQ0FBQztnQkFDbkIsTUFBTSxDQUFDTCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ1Qsc0RBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBd0IseUJBQUUsQ0FBQyxDQUFDO1lBQzlFLENBQUM7WUFDRCxNQUFNLENBQUNHLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDVCxzREFBVyxDQUFDLEtBQUssRUFBRVksUUFBUSxFQUFFQyxPQUFPLEVBQVlELFFBQVEsRUFBRUUsS0FBSzs7WUFFM0ZYLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDVCxzREFBVyxDQUFDLEtBQUssRUFBRSxDQUFvQixxQkFBRSxDQUFDLENBQUM7O0FBRTVFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1iYS1leGNoYW5nZS8uL3BhZ2VzL2FwaS92MS91c2VyL3dhbGxldC50cz9kM2E2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyBnZXRBdXRoIH0gZnJvbSBcIi4uLy4uL2FwcC9jb250cm9sbGVyL3VzZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBleGNoYW5nZVdhbGxldCwgZ2V0V2FsbGV0IH0gZnJvbSBcIi4uLy4uL2FwcC9jb250cm9sbGVyL3dhbGxldENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IGFwaVJlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2FwcC9fdXRpbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICAgIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gICAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMudG9rZW4gYXMgc3RyaW5nO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRBdXRoKHRva2VuKTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kO1xuICAgIGlmICghdXNlcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbihhcGlSZXNwb25zZShmYWxzZSwgXCJ1c2VyIG5vdCBmb3VuZFwiLCBbXSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgICAgICBsZXQgd2FsbGV0cyA9IGF3YWl0IGdldFdhbGxldCh1c2VyKTtcbiAgICAgICAgICAgIGlmICghd2FsbGV0cykge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGFwaVJlc3BvbnNlKGZhbHNlLCBcIndhbGxldCBub3QgZm91bmRcIiwgW10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFwaVJlc3BvbnNlKHRydWUsIFwiXCIsIHdhbGxldHMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7IC4uLnJlcS5ib2R5LCB1c2VyIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4Y2hhbmdlV2FsbGV0KGJvZHkpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlPy5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYXBpUmVzcG9uc2UodHJ1ZSwgXCJ0cmFuc2FjdGlvbiBzdWNjZXNzZnVsXCIsIFtdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oYXBpUmVzcG9uc2UoZmFsc2UsIHJlc3BvbnNlPy5tZXNzYWdlIGFzIHN0cmluZywgcmVzcG9uc2U/LmVycm9yKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihhcGlSZXNwb25zZShmYWxzZSwgXCJtZXRob2Qgbm90IGFsbG93ZWRcIiwgW10pKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0QXV0aCIsImV4Y2hhbmdlV2FsbGV0IiwiZ2V0V2FsbGV0IiwiYXBpUmVzcG9uc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidG9rZW4iLCJoZWFkZXJzIiwidXNlciIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJ3YWxsZXRzIiwiYm9keSIsInJlc3BvbnNlIiwibWVzc2FnZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/v1/user/wallet.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/v1/user/wallet.ts"));
module.exports = __webpack_exports__;

})();